{"version":3,"file":"foundation.util.keyboard.js","mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yEAAyE;AACzE,CAAC;AACD,O;;;;;;;;;;;;;;;;;;ACVA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEuB;AAC8B;AAErD,IAAMG,QAAQ,GAAG;EACf,CAAC,EAAE,KAAK;EACR,EAAE,EAAE,OAAO;EACX,EAAE,EAAE,QAAQ;EACZ,EAAE,EAAE,OAAO;EACX,EAAE,EAAE,KAAK;EACT,EAAE,EAAE,MAAM;EACV,EAAE,EAAE,YAAY;EAChB,EAAE,EAAE,UAAU;EACd,EAAE,EAAE,aAAa;EACjB,EAAE,EAAE;AACN,CAAC;AAED,IAAIC,QAAQ,GAAG,CAAC,CAAC;;AAEjB;AACA,SAASC,aAAaA,CAACC,QAAQ,EAAE;EAC/B,IAAG,CAACA,QAAQ,EAAE;IAAC,OAAO,KAAK;EAAE;EAC7B,OAAOA,QAAQ,CAACC,IAAI,CAAC,8KAA8K,CAAC,CAACC,MAAM,CAAC,YAAW;IACrN,IAAI,CAACR,6CAAC,CAAC,IAAI,CAAC,CAACS,EAAE,CAAC,UAAU,CAAC,IAAIT,6CAAC,CAAC,IAAI,CAAC,CAACU,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,EAAE;MAAE,OAAO,KAAK;IAAE,CAAC,CAAC;IAC/E,OAAO,IAAI;EACb,CAAC,CAAC,CACDC,IAAI,CAAE,UAAUC,CAAC,EAAEC,CAAC,EAAG;IACtB,IAAIb,6CAAC,CAACY,CAAC,CAAC,CAACF,IAAI,CAAC,UAAU,CAAC,KAAKV,6CAAC,CAACa,CAAC,CAAC,CAACH,IAAI,CAAC,UAAU,CAAC,EAAE;MACnD,OAAO,CAAC;IACV;IACA,IAAII,SAAS,GAAGC,QAAQ,CAACf,6CAAC,CAACY,CAAC,CAAC,CAACF,IAAI,CAAC,UAAU,CAAC,EAAE,EAAE,CAAC;MACjDM,SAAS,GAAGD,QAAQ,CAACf,6CAAC,CAACa,CAAC,CAAC,CAACH,IAAI,CAAC,UAAU,CAAC,EAAE,EAAE,CAAC;IACjD;IACA,IAAI,OAAOV,6CAAC,CAACY,CAAC,CAAC,CAACF,IAAI,CAAC,UAAU,CAAC,KAAK,WAAW,IAAIM,SAAS,GAAG,CAAC,EAAE;MACjE,OAAO,CAAC;IACV;IACA,IAAI,OAAOhB,6CAAC,CAACa,CAAC,CAAC,CAACH,IAAI,CAAC,UAAU,CAAC,KAAK,WAAW,IAAII,SAAS,GAAG,CAAC,EAAE;MACjE,OAAO,CAAC,CAAC;IACX;IACA,IAAIA,SAAS,KAAK,CAAC,IAAIE,SAAS,GAAG,CAAC,EAAE;MACpC,OAAO,CAAC;IACV;IACA,IAAIA,SAAS,KAAK,CAAC,IAAIF,SAAS,GAAG,CAAC,EAAE;MACpC,OAAO,CAAC,CAAC;IACX;IACA,IAAIA,SAAS,GAAGE,SAAS,EAAE;MACzB,OAAO,CAAC,CAAC;IACX;IACA,IAAIF,SAAS,GAAGE,SAAS,EAAE;MACzB,OAAO,CAAC;IACV;EACF,CAAC,CAAC;AACJ;AAEA,SAASC,QAAQA,CAACC,KAAK,EAAE;EACvB,IAAIC,GAAG,GAAGhB,QAAQ,CAACe,KAAK,CAACE,KAAK,IAAIF,KAAK,CAACG,OAAO,CAAC,IAAIC,MAAM,CAACC,YAAY,CAACL,KAAK,CAACE,KAAK,CAAC,CAACI,WAAW,CAAC,CAAC;;EAElG;EACAL,GAAG,GAAGA,GAAG,CAACM,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC;EAE5B,IAAIP,KAAK,CAACQ,QAAQ,EAAEP,GAAG,YAAAQ,MAAA,CAAYR,GAAG,CAAE;EACxC,IAAID,KAAK,CAACU,OAAO,EAAET,GAAG,WAAAQ,MAAA,CAAWR,GAAG,CAAE;EACtC,IAAID,KAAK,CAACW,MAAM,EAAEV,GAAG,UAAAQ,MAAA,CAAUR,GAAG,CAAE;;EAEpC;EACAA,GAAG,GAAGA,GAAG,CAACM,OAAO,CAAC,IAAI,EAAE,EAAE,CAAC;EAE3B,OAAON,GAAG;AACZ;AAEA,IAAIW,QAAQ,GAAG;EACbC,IAAI,EAAEC,WAAW,CAAC7B,QAAQ,CAAC;EAE3B;AACF;AACA;AACA;AACA;AACA;EACEc,QAAQ,EAAEA,QAAQ;EAElB;AACF;AACA;AACA;AACA;AACA;EACEgB,SAAS,WAAAA,UAACf,KAAK,EAAEgB,SAAS,EAAEC,SAAS,EAAE;IACrC,IAAIC,WAAW,GAAGhC,QAAQ,CAAC8B,SAAS,CAAC;MACnCb,OAAO,GAAG,IAAI,CAACJ,QAAQ,CAACC,KAAK,CAAC;MAC9BmB,IAAI;MACJC,OAAO;MACPC,EAAE;IAEJ,IAAI,CAACH,WAAW,EAAE,OAAOI,OAAO,CAACC,IAAI,CAAC,wBAAwB,CAAC;;IAE/D;IACA,IAAIvB,KAAK,CAACwB,cAAc,KAAK,IAAI,EAAE;;IAEnC;IACA,IAAI,OAAON,WAAW,CAACO,GAAG,KAAK,WAAW,EAAE;MACxCN,IAAI,GAAGD,WAAW,CAAC,CAAC;IACxB,CAAC,MAAM;MAAE;MACL,IAAIlC,2DAAG,CAAC,CAAC,EAAEmC,IAAI,GAAGrC,oDAAQ,CAAC,CAAC,CAAC,EAAEoC,WAAW,CAACO,GAAG,EAAEP,WAAW,CAACnC,GAAG,CAAC,CAAC,KAE5DoC,IAAI,GAAGrC,oDAAQ,CAAC,CAAC,CAAC,EAAEoC,WAAW,CAACnC,GAAG,EAAEmC,WAAW,CAACO,GAAG,CAAC;IAC9D;IACAL,OAAO,GAAGD,IAAI,CAAChB,OAAO,CAAC;IAEvBkB,EAAE,GAAGJ,SAAS,CAACG,OAAO,CAAC;IACtB;IACD,IAAIC,EAAE,IAAI,OAAOA,EAAE,KAAK,UAAU,EAAE;MAClC,IAAIM,WAAW,GAAGN,EAAE,CAACO,KAAK,CAAC,CAAC;;MAE5B;MACA5B,KAAK,CAACwB,cAAc,GAAG,IAAI;;MAE3B;MACA,IAAIP,SAAS,CAACY,OAAO,IAAI,OAAOZ,SAAS,CAACY,OAAO,KAAK,UAAU,EAAE;QAC9DZ,SAAS,CAACY,OAAO,CAACF,WAAW,CAAC;MAClC;IACF,CAAC,MAAM;MACJ;MACD,IAAIV,SAAS,CAACa,SAAS,IAAI,OAAOb,SAAS,CAACa,SAAS,KAAK,UAAU,EAAE;QAClEb,SAAS,CAACa,SAAS,CAAC,CAAC;MACzB;IACF;EACF,CAAC;EAED;AACF;AACA;AACA;AACA;;EAEE3C,aAAa,EAAEA,aAAa;EAE5B;AACF;AACA;AACA;AACA;EAEE4C,QAAQ,WAAAA,SAACC,aAAa,EAAEb,IAAI,EAAE;IAC5BjC,QAAQ,CAAC8C,aAAa,CAAC,GAAGb,IAAI;EAChC,CAAC;EAGD;EACA;EACA;AACF;AACA;AACA;EACEc,SAAS,WAAAA,UAAC7C,QAAQ,EAAE;IAClB,IAAI8C,UAAU,GAAG/C,aAAa,CAACC,QAAQ,CAAC;MACpC+C,eAAe,GAAGD,UAAU,CAACE,EAAE,CAAC,CAAC,CAAC;MAClCC,cAAc,GAAGH,UAAU,CAACE,EAAE,CAAC,CAAC,CAAC,CAAC;IAEtChD,QAAQ,CAACkD,EAAE,CAAC,sBAAsB,EAAE,UAAStC,KAAK,EAAE;MAClD,IAAIA,KAAK,CAACuC,MAAM,KAAKF,cAAc,CAAC,CAAC,CAAC,IAAItC,QAAQ,CAACC,KAAK,CAAC,KAAK,KAAK,EAAE;QACnEA,KAAK,CAACwC,cAAc,CAAC,CAAC;QACtBL,eAAe,CAACM,KAAK,CAAC,CAAC;MACzB,CAAC,MACI,IAAIzC,KAAK,CAACuC,MAAM,KAAKJ,eAAe,CAAC,CAAC,CAAC,IAAIpC,QAAQ,CAACC,KAAK,CAAC,KAAK,WAAW,EAAE;QAC/EA,KAAK,CAACwC,cAAc,CAAC,CAAC;QACtBH,cAAc,CAACI,KAAK,CAAC,CAAC;MACxB;IACF,CAAC,CAAC;EACJ,CAAC;EACD;AACF;AACA;AACA;EACEC,YAAY,WAAAA,aAACtD,QAAQ,EAAE;IACrBA,QAAQ,CAACuD,GAAG,CAAC,sBAAsB,CAAC;EACtC;AACF,CAAC;;AAED;AACA;AACA;AACA;AACA,SAAS7B,WAAWA,CAAC8B,GAAG,EAAE;EACxB,IAAIC,CAAC,GAAG,CAAC,CAAC;EACV,KAAK,IAAIC,EAAE,IAAIF,GAAG,EAAE;IAClB,IAAIA,GAAG,CAACG,cAAc,CAACD,EAAE,CAAC,EAAED,CAAC,CAACD,GAAG,CAACE,EAAE,CAAC,CAAC,GAAGF,GAAG,CAACE,EAAE,CAAC;EAClD;EACA,OAAOD,CAAC;AACV;;;;;;;;;;;ACpMA;;;;;;;;;;ACAA;;;;;;UCAA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCtBA;WACA;WACA;WACA,eAAe,4BAA4B;WAC3C,eAAe;WACf,iCAAiC,WAAW;WAC5C;WACA;;;;;WCPA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA,8CAA8C;;;;;WCA9C;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;;;;;;;;;;;;;;ACN+C;AACW;AAE1DG,wDAAU,CAACpC,QAAQ,GAAGA,+DAAQ","sources":["webpack://__FOUNDATION_EXTERNAL__/webpack/universalModuleDefinition","webpack://__FOUNDATION_EXTERNAL__/./js/foundation.util.keyboard.js","webpack://__FOUNDATION_EXTERNAL__/external umd {\"root\":[\"__FOUNDATION_EXTERNAL__\",\"foundation.core\"],\"amd\":\"./foundation.core\",\"commonjs\":\"./foundation.core\",\"commonjs2\":\"./foundation.core\"}","webpack://__FOUNDATION_EXTERNAL__/external umd {\"root\":[\"jQuery\"],\"amd\":\"jquery\",\"commonjs\":\"jquery\",\"commonjs2\":\"jquery\"}","webpack://__FOUNDATION_EXTERNAL__/webpack/bootstrap","webpack://__FOUNDATION_EXTERNAL__/webpack/runtime/compat get default export","webpack://__FOUNDATION_EXTERNAL__/webpack/runtime/define property getters","webpack://__FOUNDATION_EXTERNAL__/webpack/runtime/hasOwnProperty shorthand","webpack://__FOUNDATION_EXTERNAL__/webpack/runtime/make namespace object","webpack://__FOUNDATION_EXTERNAL__/./js/entries/plugins/foundation.util.keyboard.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"./foundation.core\"), require(\"jquery\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"./foundation.core\", \"jquery\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"__FOUNDATION_EXTERNAL__\"] = factory(require(\"./foundation.core\"), require(\"jquery\"));\n\telse\n\t\troot[\"__FOUNDATION_EXTERNAL__\"] = root[\"__FOUNDATION_EXTERNAL__\"] || {}, root[\"__FOUNDATION_EXTERNAL__\"][\"foundation.util.keyboard\"] = factory(root[\"__FOUNDATION_EXTERNAL__\"][\"foundation.core\"], root[\"jQuery\"]);\n})(self, function(__WEBPACK_EXTERNAL_MODULE__foundation_core__, __WEBPACK_EXTERNAL_MODULE_jquery__) {\nreturn ","/*******************************************\n *                                         *\n * This util was created by Marius Olbertz *\n * Please thank Marius on GitHub /owlbertz *\n * or the web http://www.mariusolbertz.de/ *\n *                                         *\n ******************************************/\n\nimport $ from 'jquery';\nimport { rtl as Rtl } from './foundation.core.utils';\n\nconst keyCodes = {\n  9: 'TAB',\n  13: 'ENTER',\n  27: 'ESCAPE',\n  32: 'SPACE',\n  35: 'END',\n  36: 'HOME',\n  37: 'ARROW_LEFT',\n  38: 'ARROW_UP',\n  39: 'ARROW_RIGHT',\n  40: 'ARROW_DOWN'\n}\n\nvar commands = {}\n\n// Functions pulled out to be referenceable from internals\nfunction findFocusable($element) {\n  if(!$element) {return false; }\n  return $element.find('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]').filter(function() {\n    if (!$(this).is(':visible') || $(this).attr('tabindex') < 0) { return false; } //only have visible elements and those that have a tabindex greater or equal 0\n    return true;\n  })\n  .sort( function( a, b ) {\n    if ($(a).attr('tabindex') === $(b).attr('tabindex')) {\n      return 0;\n    }\n    let aTabIndex = parseInt($(a).attr('tabindex'), 10),\n      bTabIndex = parseInt($(b).attr('tabindex'), 10);\n    // Undefined is treated the same as 0\n    if (typeof $(a).attr('tabindex') === 'undefined' && bTabIndex > 0) {\n      return 1;\n    }\n    if (typeof $(b).attr('tabindex') === 'undefined' && aTabIndex > 0) {\n      return -1;\n    }\n    if (aTabIndex === 0 && bTabIndex > 0) {\n      return 1;\n    }\n    if (bTabIndex === 0 && aTabIndex > 0) {\n      return -1;\n    }\n    if (aTabIndex < bTabIndex) {\n      return -1;\n    }\n    if (aTabIndex > bTabIndex) {\n      return 1;\n    }\n  });\n}\n\nfunction parseKey(event) {\n  var key = keyCodes[event.which || event.keyCode] || String.fromCharCode(event.which).toUpperCase();\n\n  // Remove un-printable characters, e.g. for `fromCharCode` calls for CTRL only events\n  key = key.replace(/\\W+/, '');\n\n  if (event.shiftKey) key = `SHIFT_${key}`;\n  if (event.ctrlKey) key = `CTRL_${key}`;\n  if (event.altKey) key = `ALT_${key}`;\n\n  // Remove trailing underscore, in case only modifiers were used (e.g. only `CTRL_ALT`)\n  key = key.replace(/_$/, '');\n\n  return key;\n}\n\nvar Keyboard = {\n  keys: getKeyCodes(keyCodes),\n\n  /**\n   * Parses the (keyboard) event and returns a String that represents its key\n   * Can be used like Foundation.parseKey(event) === Foundation.keys.SPACE\n   * @param {Event} event - the event generated by the event handler\n   * @return String key - String that represents the key pressed\n   */\n  parseKey: parseKey,\n\n  /**\n   * Handles the given (keyboard) event\n   * @param {Event} event - the event generated by the event handler\n   * @param {String} component - Foundation component's name, e.g. Slider or Reveal\n   * @param {Objects} functions - collection of functions that are to be executed\n   */\n  handleKey(event, component, functions) {\n    var commandList = commands[component],\n      keyCode = this.parseKey(event),\n      cmds,\n      command,\n      fn;\n\n    if (!commandList) return console.warn('Component not defined!');\n\n    // Ignore the event if it was already handled\n    if (event.zfIsKeyHandled === true) return;\n\n    // This component does not differentiate between ltr and rtl\n    if (typeof commandList.ltr === 'undefined') {\n        cmds = commandList; // use plain list\n    } else { // merge ltr and rtl: if document is rtl, rtl overwrites ltr and vice versa\n        if (Rtl()) cmds = $.extend({}, commandList.ltr, commandList.rtl);\n\n        else cmds = $.extend({}, commandList.rtl, commandList.ltr);\n    }\n    command = cmds[keyCode];\n\n    fn = functions[command];\n     // Execute the handler if found\n    if (fn && typeof fn === 'function') {\n      var returnValue = fn.apply();\n\n      // Mark the event as \"handled\" to prevent future handlings\n      event.zfIsKeyHandled = true;\n\n      // Execute function when event was handled\n      if (functions.handled || typeof functions.handled === 'function') {\n          functions.handled(returnValue);\n      }\n    } else {\n       // Execute function when event was not handled\n      if (functions.unhandled || typeof functions.unhandled === 'function') {\n          functions.unhandled();\n      }\n    }\n  },\n\n  /**\n   * Finds all focusable elements within the given `$element`\n   * @param {jQuery} $element - jQuery object to search within\n   * @return {jQuery} $focusable - all focusable elements within `$element`\n   */\n\n  findFocusable: findFocusable,\n\n  /**\n   * Returns the component name name\n   * @param {Object} component - Foundation component, e.g. Slider or Reveal\n   * @return String componentName\n   */\n\n  register(componentName, cmds) {\n    commands[componentName] = cmds;\n  },\n\n\n  // TODO9438: These references to Keyboard need to not require global. Will 'this' work in this context?\n  //\n  /**\n   * Traps the focus in the given element.\n   * @param  {jQuery} $element  jQuery object to trap the foucs into.\n   */\n  trapFocus($element) {\n    var $focusable = findFocusable($element),\n        $firstFocusable = $focusable.eq(0),\n        $lastFocusable = $focusable.eq(-1);\n\n    $element.on('keydown.zf.trapfocus', function(event) {\n      if (event.target === $lastFocusable[0] && parseKey(event) === 'TAB') {\n        event.preventDefault();\n        $firstFocusable.focus();\n      }\n      else if (event.target === $firstFocusable[0] && parseKey(event) === 'SHIFT_TAB') {\n        event.preventDefault();\n        $lastFocusable.focus();\n      }\n    });\n  },\n  /**\n   * Releases the trapped focus from the given element.\n   * @param  {jQuery} $element  jQuery object to release the focus for.\n   */\n  releaseFocus($element) {\n    $element.off('keydown.zf.trapfocus');\n  }\n}\n\n/*\n * Constants for easier comparing.\n * Can be used like Foundation.parseKey(event) === Foundation.keys.SPACE\n */\nfunction getKeyCodes(kcs) {\n  var k = {};\n  for (var kc in kcs) {\n    if (kcs.hasOwnProperty(kc)) k[kcs[kc]] = kcs[kc];\n  }\n  return k;\n}\n\nexport {Keyboard};\n","module.exports = __WEBPACK_EXTERNAL_MODULE__foundation_core__;","module.exports = __WEBPACK_EXTERNAL_MODULE_jquery__;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import { Foundation } from './foundation.core';\nimport { Keyboard } from '../../foundation.util.keyboard';\n\nFoundation.Keyboard = Keyboard;\n\nexport { Foundation, Keyboard };\n"],"names":["$","rtl","Rtl","keyCodes","commands","findFocusable","$element","find","filter","is","attr","sort","a","b","aTabIndex","parseInt","bTabIndex","parseKey","event","key","which","keyCode","String","fromCharCode","toUpperCase","replace","shiftKey","concat","ctrlKey","altKey","Keyboard","keys","getKeyCodes","handleKey","component","functions","commandList","cmds","command","fn","console","warn","zfIsKeyHandled","ltr","extend","returnValue","apply","handled","unhandled","register","componentName","trapFocus","$focusable","$firstFocusable","eq","$lastFocusable","on","target","preventDefault","focus","releaseFocus","off","kcs","k","kc","hasOwnProperty","Foundation"],"sourceRoot":""}